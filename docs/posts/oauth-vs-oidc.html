<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title></title>

  <link href='https://fonts.googleapis.com/css?family=Open Sans' rel='stylesheet'>

  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind = {
      config: {
        darkMode: 'class'
      }
    };
  </script>
  <script>
    MathJax = {
        tex: {
            inlineMath: [['$', '$'], ['\\(', '\\)']],
            displayMath: [['$$', '$$'], ['\\[', '\\]']]
        }
    };
    </script>
    <script id="MathJax-script" async 
            src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
    </script>

  <link rel="stylesheet" href="/style.css"/>


    <style>
        /* Code block font size override - needs high specificity */
        pre[class*="language-"],
        pre[class*="language-"] code,
        code[class*="language-"] {
            font-size: 1rem !important;
            line-height: 1.4 !important;
            font-family: 'SF Mono', Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;
        }

        /* Additional code styling improvements */
        pre[class*="language-"] {
            margin: 0.5em 0 !important;
            padding-left: 5px !important;
            border-radius: 0.375rem !important; /* rounded-md */
        }

        /* Dark mode toggle styling improvements */
        .dark-toggle {
          position: relative;
          display: inline-flex;
          align-items: center;
          cursor: pointer;
        }

        .dark-toggle input {
          position: absolute;
          opacity: 0;
          width: 0;
          height: 0;
        }

        .toggle-bg {
          width: 44px;
          height: 24px;
          background-color: #d1d5db;
          border-radius: 12px;
          transition: all 0.3s ease;
          position: relative;
        }

        .dark .toggle-bg {
          background-color: #374151;
        }

        .toggle-dot {
          position: absolute;
          top: 2px;
          left: 2px;
          width: 20px;
          height: 20px;
          background-color: white;
          border-radius: 50%;
          transition: transform 0.3s ease;
        }

        .dark .toggle-dot {
          background-color: #f3f4f6;
          transform: translateX(20px);
        }

        /* Cusdis custom styles */
        #cusdis_thread iframe {
          min-height: 600px !important;
          height: auto !important;
        }

        #cusdis_thread {
          overflow: visible !important;
        }

        /* Override any Cusdis container height restrictions */
        [data-cusdis] {
          min-height: 600px !important;
        }
    </style>

</head>

<body class="font-serif bg-white text-gray-900 dark:bg-gray-900 dark:text-gray-100 transition-colors duration-300">
  <!-- Header -->
  <!-- Header -->
<header class="border-b border-gray-200 dark:border-gray-700">
  <div class="max-w-3xl mx-auto px-4 py-6 flex justify-between items-center">
    <h1 class="text-2xl font-semibold">
        <a class="text-decoration-none" href="/" style="font-family: Open Sans">bewakes</a>
    </h1>
    
    <!-- Navigation Menu -->
    <nav class="hidden md:flex items-center space-x-6" style="font-family: Open Sans">
      <a href="/about.html" class="text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors">about</a>
      <a href="/now.html" class="text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors">now</a>
    </nav>

    <div class="flex items-center space-x-4">
      <!-- Mobile Menu Button -->
      <button id="mobileMenuToggle" class="md:hidden p-2 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      </button>
      
      <!-- Toggle Switch -->
      <label class="dark-toggle">
        <input type="checkbox" id="darkModeToggle">
        <div class="toggle-bg">
          <div class="toggle-dot"></div>
        </div>
      </label>
    </div>
  </div>

  <!-- Mobile Menu -->
  <div id="mobileMenu" class="hidden md:hidden border-t border-gray-200 dark:border-gray-700">
    <div class="max-w-3xl mx-auto px-4 py-4 space-y-2">
      <a href="/about.html" class="block py-2 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors">about</a>
      <a href="/now.html" class="block py-2 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors">now</a>
    </div>
  </div>
</header>


  <main class="max-w-3xl mx-auto px-4 py-10 space-y-10">

    <div class="markdown-content">
    <header>
      <h1 class="title text-4xl text-center">Why OIDC when there&#x27;s OAuth?</h1>
      <p class="post-date text-base text-gray-600 dark:text-gray-400">Oct 31 2025</p>
    </header>
    <section class="pt-0 mt-2 mb-8">
      <div class="flex flex-wrap gap-3">
            <a href="/tags/web.html" class="text-sm px-3 py-1 rounded-full bg-gray-100 text-gray-700 hover:bg-gray-200 dark:bg-gray-800 dark:text-gray-200 dark:hover:bg-gray-700 transition">
                web
            </a>
            <a href="/tags/standards.html" class="text-sm px-3 py-1 rounded-full bg-gray-100 text-gray-700 hover:bg-gray-200 dark:bg-gray-800 dark:text-gray-200 dark:hover:bg-gray-700 transition">
                standards
            </a>
      </div>
    </section>


    <article class="prose text-xl/8 dark:prose-invert lg:prose-lg max-w-none">
        <p>One fine morning I was looking into how github actions can assume AWS roles to
be able to publish built images to ECS. Turns out AWS roles can use an
authentication mechanism called
<a href="https://openid.net/developers/how-connect-works/">OIDC</a> to verify who is
assuming the role. I was curious and looked into OIDC to find out that it is an
&quot;interoperable authentication protocol based on OAuth&quot;.
<br/>
<br/>
It shook my mental model about authentication and authorization.
OAuth, by name, is an authorization protocol and authorization
happens after authentication. Then came the question: <em>So why need a
authentication protocol when we already have an open authorization protocol?</em> I
too have used OAuth countless times to log-in user to applications.
<br/>
<br/>
After some digging and some conversations with Claude, I realized that the key
lies in each of the protocol was originally designed to solve.
<br/>
<br/>
I had overlooked the &quot;interoperable&quot; part of the OIDC definition and what
problems OAuth exists to solve. What's happening with all those OAuth based
logins was that, OAuth was being used for something it was not intended to. The
purpose of OAuth was to allow third-party apps limited access for limited time
to user's resources without actually sharing the password. Take for example,
<code>draw.io</code> accessing your Google Drive to store sketches. This misuse of access
token created security vulnerabilities and huge inconsistency across identity
providers because OAuth doesn't have standardized way to get user info. Even
the token is just an opaque string, subject to be interpreted in many ways by
many consumers.
<br/>
<br/>
With OIDC(the full form is Open ID Connect by the way ;)), authentication
finally became standardized and interoperable and OAuth could go back to do
what it was designed for: authorization.</p>

    </article>
</div>


    <!-- Comments Section -->
    <div class="mt-16 border-t border-gray-200 dark:border-gray-700 pt-8">
        <div class="bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700">
            <!-- Comment Section Header -->
            <div class="px-6 py-4 border-b border-gray-200 dark:border-gray-700">
                <h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100 flex items-center">
                    <svg class="w-5 h-5 mr-2 text-blue-500 dark:text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
                    </svg>
                    Comments
                </h2>
                <p class="text-sm text-gray-500 dark:text-gray-400 mt-1">Join the conversation below</p>
            </div>

            <!-- Cusdis Container -->
            <div class="p-6">
                <div id="cusdis_thread"
                     data-host="https://cusdis.com"
                     data-app-id="306917f0-653d-4447-9cca-458086bdeb86"
                     data-page-id="oauth-vs-oidc"
                     data-page-url="https://bewakes.com/posts/oauth-vs-oidc.html"
                     data-page-title="Why OIDC when there&#x27;s OAuth?"
                     data-theme="auto">
                    <!-- Loading state -->
                    <div id="cusdis-loading" class="flex items-center justify-center py-12">
                        <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 dark:border-blue-400"></div>
                        <span class="ml-3 text-gray-600 dark:text-gray-300">Loading comments...</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
  </main>


  <!-- Footer -->
  <footer class="border-t border-gray-200 dark:border-gray-700 mt-16 py-6 text-center text-sm text-gray-500 dark:text-gray-400">
    &copy; 2017 - 2025 bewakes.
  </footer>

  <script async src="https://cusdis.com/js/cusdis.es.js"></script>

  <script>
    const toggle = document.getElementById('darkModeToggle');
    const htmlEl = document.documentElement;

    // Function to load Prism theme
    function loadPrismTheme(isDark) {
      // Remove existing theme
      const existingTheme = document.querySelector('link[data-prism-theme]');
      if (existingTheme) {
        existingTheme.remove();
      }

      // Add new theme
      const themeLink = document.createElement('link');
      themeLink.rel = 'stylesheet';
      themeLink.setAttribute('data-prism-theme', 'true');
      
      if (isDark) {
        themeLink.href = 'https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css';
      } else {
        themeLink.href = 'https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css';
      }
      
      document.head.appendChild(themeLink);
      
      // Re-highlight after theme loads and Prism is ready
      themeLink.onload = function() {
        setTimeout(() => {
          if (typeof Prism !== 'undefined') {
            Prism.highlightAll();
          }
        }, 50);
      };
    }

    // Function to update Cusdis theme
    function updateCusdisTheme(isDark) {
      const cusdisThread = document.getElementById('cusdis_thread');
      if (cusdisThread) {
        cusdisThread.setAttribute('data-theme', isDark ? 'dark' : 'light');
        // Reload Cusdis if it's already loaded
        if (window.CUSDIS && typeof window.CUSDIS.reload === 'function') {
          window.CUSDIS.reload();
        }
      }
    }

    // Check for saved theme preference or default to light mode
    const savedTheme = localStorage.getItem('theme');
    const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;

    // Initialize theme
    if (savedTheme === 'dark' || (!savedTheme && prefersDark)) {
      htmlEl.classList.add('dark');
      toggle.checked = true;
      loadPrismTheme(true);
      updateCusdisTheme(true);
    } else {
      htmlEl.classList.remove('dark');
      toggle.checked = false;
      loadPrismTheme(false);
      updateCusdisTheme(false);
    }

    // Toggle event listener
    toggle.addEventListener('change', () => {
      if (toggle.checked) {
        htmlEl.classList.add('dark');
        localStorage.setItem('theme', 'dark');
        loadPrismTheme(true);
        updateCusdisTheme(true);
      } else {
        htmlEl.classList.remove('dark');
        localStorage.setItem('theme', 'light');
        loadPrismTheme(false);
        updateCusdisTheme(false);
      }
    });
  </script>

  <!-- Prism.js JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>

    <script>
        // Configure autoloader path
        Prism.plugins.autoloader.languages_path = 'https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/';

    </script>
  <!-- END Prism.js JavaScript -->
    <script>
        // Mobile menu toggle functionality
        document.getElementById('mobileMenuToggle').addEventListener('click', function() {
          const mobileMenu = document.getElementById('mobileMenu');
          mobileMenu.classList.toggle('hidden');
        });

        // Close mobile menu when clicking outside
        document.addEventListener('click', function(event) {
          const mobileMenu = document.getElementById('mobileMenu');
          const mobileMenuToggle = document.getElementById('mobileMenuToggle');
          
          if (!mobileMenuToggle.contains(event.target) && !mobileMenu.contains(event.target)) {
            mobileMenu.classList.add('hidden');
          }
        });
    </script>

</body>
</html>
